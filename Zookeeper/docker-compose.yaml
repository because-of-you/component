version: "3.9"
services:
  zookeeper:
    build:
      dockerfile: ./DockerFile
    image: wfybelief/component:zookeeper

    env_file:
      - .env
    environment:
      - sys_t1=${REPLICAS:-1}
      - COMPOSE_SERVICE_NAME=zookeeper

    networks:
      - component-network
    deploy:
      resources:
        limits:
          cpus: "0.5"
          memory: 200M
        reservations:
          cpus: "0.1"
          memory: 100M
      mode: replicated
      replicas: ${REPLICAS:-1}


networks:
  component-network:
    external: false
    name: component-network
    labels:
      - "key=value"
